services:
  - type: web
    name: walton-holidays
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: gunicorn app:app
    plan: free
    envVars:
      - key: FLASK_ENV
        value: production
      - key: SECRET_KEY
        generateValue: true
      - key: BASE_URL
        sync: false   # à remplir après déploiement: https://ton-service.onrender.com
      - key: SMTP_HOST
        value: smtp.gmail.com
      - key: SMTP_PORT
        value: "587"
      - key: SMTP_USER
        value: mw@walton.fr
      - key: SMTP_PASSWORD
        sync: false   # mot de passe d’application Gmail
      - key: MAIL_FROM
        value: "Walton Vacances <mw@walton.fr>"
      - key: EMAIL_MARK
        value: mw@walton.fr
      - key: EMAIL_NHAN
        value: nhan@walton.fr
      - key: EMAIL_ANH
        value: anh@walton.fr
      - key: ALWAYS_CC
        value: mw@walton.fr
      - key: SPREADSHEET_ID
        sync: false   # ID du Google Sheet
      - key: GOOGLE_SERVICE_ACCOUNT_JSON
        sync: false   # colle ici le JSON complet du service account
